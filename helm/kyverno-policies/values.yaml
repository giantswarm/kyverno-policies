kyverno-policies:
  podSecurityStandard: restricted
  # includeOtherPolicies:
  #   - require-non-root-groups
  customLabels:
    application.giantswarm.io/team: shield

policyNamePrefix: "gs"  # Prefix to add to the name of all custom policies. Does not apply to PSS policies. Example: "gs"

supplementalSecurityPolicies:
  policies:
    # restrict-external-ips prevents the use of Services of type ExternalIP.
    restrict-external-ips:
      enabled: true
      mode: Audit

    # require-ro-rootfs ensures that container root filesystems are mounted as read-only.
    require-ro-rootfs:
      enabled: false
      mode: Audit

    # add-default-deny-network-policy generates a new NetworkPolicy resource in every newly created Namespace which will deny all traffic.
    add-default-deny-network-policy:
      enabled: false
      # Whether to keep or delete all generated Network Policies when the Kyverno generate policy is deleted.
      deleteNetworkPolicyOnKyvernoPolicyDeletion: false
      # Whether to generate Network Policies in Namespaces that already exist when the Kyverno Policy is deployed.
      generateForExistingNamespaces: false
      networkPolicy:
        policyName: default-deny
        blockIngress: true
        blockEgress: true

bestPracticesPolicies:
  policies:
    # check-resources-request-and-limits-ratio ensures that the resource limits are no more than 2.5x requests.
    check-resources-request-and-limits-ratio:
      enabled: true
      mode: Audit

    # require-container-requests-limits ensures that all containers have resource requests and limits defined.
    require-container-requests-and-limits:
      enabled: true
      mode: Audit

    # require-emptydir-requests-and-limits ensures that all emptyDir volumes have resource requests and limits defined.
    require-emptydir-requests-and-limits:
      enabled: true
      mode: Audit
